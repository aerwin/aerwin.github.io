---
layout: post
title: Generating Self-Signed SSL Certificates for Use with Bluemix Custom Domains
date: '2014-09-15T00:39:00.000-05:00'
author: Tony Erwin
tags:
- custom domain
- bluemix
- ssl
- keychain access
- ssl certifcate
- paas
- openssl
- cloud
- cloud foundry
- https
- mac
modified_time: '2014-09-21T15:20:30.478-05:00'
thumbnail: http://4.bp.blogspot.com/-Y1DQDitvcqs/VBfAe8MApXI/AAAAAAADwEA/NGWwfsgVHac/s72-c/padlock200test.png
blogger_id: tag:blogger.com,1999:blog-5914472037415701789.post-2361234527744687307
blogger_orig_url: http://www.tonyerwin.com/2014/09/generating-self-signed-ssl-certificates.html
---

<div class="tonyBlog"><img style="display:none;" src="http://4.bp.blogspot.com/-Y1DQDitvcqs/VBfAe8MApXI/AAAAAAADwEA/NGWwfsgVHac/s1600/padlock200test.png" /><!-- Adding hidden thumb because Blogger does weird cropping --> <img border="0" height="72" src="http://3.bp.blogspot.com/-QQxvxqWIPC0/VBT5BLIr_cI/AAAAAAADv4k/lee08lpB4O8/s1600/padlock_thumb.png" style="display: none;" width="72" /><img itemprop="image" alt="Generating Self-Signed SSL Certificates for Use with Bluemix Custom Domains" class="tonyImg right" src="http://4.bp.blogspot.com/-TpGFKnATtn4/VBT5BOP1PYI/AAAAAAADv48/38iTIluh4a8/s1600/padlock_with_label.png" scale="0" style="max-height: 297px; max-width: 264px;" title="enerating Self-Signed SSL Certificates for Use with Bluemix Custom Domains" /> This is a companion piece to my <a target="_blank" href="http://www.tonyerwin.com/2014/09/bluemix-ui-ssl-certificates-and-custom.html"><i>Bluemix UI: SSL Certificates and Custom Domains</i></a> post. It's intended for <a target="_blank" href="https://www.bluemix.net">Bluemix</a> users who wish to use <a target="_blank" href="http://www.sslshopper.com/article-when-are-self-signed-certificates-acceptable.html">self-signed SSL certificates</a> with their custom domains for testing and development. This can be useful before moving to production with a <a target="_blank" href="http://www.sslshopper.com/best-ssl-wildcard-certificate.html">wildcard certificate</a> issued by a trusted third-party <a target="_blank" href="http://www.sslshopper.com/certificate-authority-reviews.html">certificate authority</a>.<br /><br />I'll discuss three different approaches using:<br /><ul><li><a href="#OnlineGenerator">an online certificate generator</a></li><li><a href="#OpenSSLCommandLineTool">the <code>openssl</code> command line tool</a></li><li><a href="#MacKeyChainAccess">the Mac's Keychain Access app</a> (which facilitates acting as your own certificate authority)</li></ul>Once you've generated a self-signed certificate using one of these approaches (or by one of the many approaches found doing a <a target="_blank" href="https://www.google.com/search?q=generate+self+signed+certificate">Google search</a>), please see my previously mentioned post to learn how to associate it with a Bluemix custom domain. <br /><h4 id="OnlineGenerator">Online Self-Signed Certificate Generator</h4>A really straightforward way to generate a self-signed certificate is the online <a target="_blank" href="http://www.selfsignedcertificate.com/"><i>Self-Signed Certificate Generator</i></a>. All you have to do is enter a wildcard domain and hit the <strong>Generate</strong> button.  <br /><a href="http://2.bp.blogspot.com/-dWthxFN-CV0/VBT5BgS5FXI/AAAAAAADv5A/R0Pitt6lplA/s1600/selfsignedGenerator.png" target="_blank"><img alt="Entering Domain in Online Self-Signed Certificate Generator" class="tonyImg" src="http://2.bp.blogspot.com/-dWthxFN-CV0/VBT5BgS5FXI/AAAAAAADv5A/R0Pitt6lplA/s1600/selfsignedGenerator.png" scale="0" style="max-height: 574px; max-width: 1404px; width: 70%;" title="Entering Domain in Online Self-Signed Certificate Generator" /></a><br />The site then uses <a target="_blank" href="https://www.openssl.org/">OpenSSL</a> in the background to generate a certificate and private key. After the process completes, you will see two links: one allows you to download a <code>cert</code> file and the other a <code>key</code> file. Download the files, and then you can use the Bluemix UI to upload and associate them with your domain.<br /><br />I did this myself for one of my domains. When I accessed the app in Chrome, it provided me with the certificate details shown below. As you can see, the generated certificate only has the Common Name field filled in. And, of course, Chrome doesn't trust it.<br /><a href="http://1.bp.blogspot.com/-WLtJN568RJk/VBUaW3vrrvI/AAAAAAADv5Y/_JgqiGCbEB8/s1600/selfsignedFromOnlineGeneratorInChrome2.png" target="_blank"><img alt="Browser Info For Cert Generated by Online Self-Signed Certificate Generator" class="tonyImg" src="http://1.bp.blogspot.com/-WLtJN568RJk/VBUaW3vrrvI/AAAAAAADv5Y/_JgqiGCbEB8/s1600/selfsignedFromOnlineGeneratorInChrome2.png" scale="0" style="max-height: 702px; max-width: 988px; width: 70%;" title="Browser Info For Cert Generated by Online Self-Signed Certificate Generator" /></a><h4 id="OpenSSLCommandLineTool">Using OpenSSL to Generate Self-Signed Certificate</h4>If you want more control over the generated certificate, you can use the <code>openssl</code> command directly. It may already be installed on your system, but if not, you should be able to install it. The steps below are adapted from the first 4 steps of <a target="_blank" href="http://www.akadia.com/services/ssh_test_certificate.html"><i>How to Create a Self-signed SSL Certificate</i></a> by Akadia.com. That article gives additional background information and guidance that you may find useful.<br /><ol><li>Generate a private key.<br /><pre class="tonyCode"><span class="commandLineCommand">$ openssl genrsa -des3 -out server.key 1024</span><br />Generating RSA private key, 1024 bit long modulus<br />........++++++<br />.................................................++++++<br />e is 65537 (0x10001)<br />Enter pass phrase for server.key:<br />Verifying - Enter pass phrase for server.key:<br /></pre></li><li>Generate a CSR (Certificate Signing Request). For use with Bluemix, the most important thing to remember is to specify a wildcard domain for the Common Name field. I've highlighted the <code>openssl</code> prompt for that in the console output below.<br /><pre class="tonyCode"><span class="commandLineCommand">$ openssl req -new -key server.key -out server.csr</span><br />Enter pass phrase for server.key:<br />You are about to be asked to enter information that will be incorporated<br />into your certificate request.<br />What you are about to enter is what is called a Distinguished Name or a DN.<br />There are quite a few fields but you can leave some blank<br />For some fields there will be a default value,<br />If you enter '.', the field will be left blank.<br />-----<br />Country Name (2 letter code) [AU]:US<br />State or Province Name (full name) [Some-State]:MN<br />Locality Name (eg, city) []:Rochester<br />Organization Name (eg, company) [Internet Widgits Pty Ltd]:Tony's Bluemix Demos<br />Organizational Unit Name (eg, section) []:IT Dept.<br /><span class="commandLineHighlight">Common Name (e.g. server FQDN or YOUR name) []:*.itdept.tonyerwin.com</span> <span class="comment"><-- must be wildcarded</span><br />Email Address []:admin@tonyerwin.com<br /><br />Please enter the following 'extra' attributes<br />to be sent with your certificate request<br />A challenge password []:<br />An optional company name []:<br /></pre></li><li>Remove the passphrase from key.<br /><pre class="tonyCode"><span class="commandLineCommand">$ cp server.key server.key.org</span><br /><span class="commandLineCommand">$ openssl rsa -in server.key.org -out server.key</span><br />Enter pass phrase for server.key.org:<br />writing RSA key<br /></pre></li><li>Generate a self-signed certificate.<br /><pre class="tonyCode"><span class="commandLineCommand">$ openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</span><br />Signature ok<br />subject=/C=US/ST=MN/L=Rochester/O=Tony's Bluemix Demos/OU=IT Dept./CN=*.itdept.tonyerwin.com/emailAddress=admin@tonyerwin.com<br />Getting Private key<br /></pre></li></ol>At the end of this process, you'll have two files: <code>server.crt</code> and <code>server.key</code>. Like before, these files can be uploaded via the Bluemix UI. The screenshot below shows the details as provided by Chrome when I access my app. The certificate is still untrusted, but you can see many more fields are populated with data.<br /><a href="http://3.bp.blogspot.com/-yN2fet2MsUg/VBT5Bh_uvGI/AAAAAAADv40/IYQvC-g_ZuI/s1600/selfsignedOpensslInChrome.png" target="_blank"><img alt="Browser Info For Cert Generated by OpenSSL" class="tonyImg" src="http://3.bp.blogspot.com/-yN2fet2MsUg/VBT5Bh_uvGI/AAAAAAADv40/IYQvC-g_ZuI/s1600/selfsignedOpensslInChrome.png" scale="0" style="max-height: 812px; max-width: 984px; width: 70%;" title="Browser Info For Cert Generated by OpenSSL" /></a>If you want to go deeper with <code>openssl</code>, you can even generate your own intermediate certificates and use them to sign your main certificate. For example, see the article <a target="_blank" href="https://jamielinux.com/articles/2013/08/act-as-your-own-certificate-authority/"><i>How to act as your own certificate authority (CA)</i></a> by Jamie Nguyen.<h4 id="MacKeyChainAccess">Using Keychain Access on Mac to Be Your Own Certificate Authority</h4>Depending on your platform, you may have graphical tools at your disposal to create and manage certificates. For example, on a Mac you can use Keychain Access. In the rest of this section, I'll walk you through using Keychain Access on Mac OS X (Version 10.9.4) so you can act as your own certificate authority. You'll first create a self-signed intermediate certificate which you'll mark as trusted. You'll then use this trusted intermediate certificate to issue a new certificate specific to your domain. Finally, you'll export the files from Keychain Access and upload them to Bluemix. After that, you should see no SSL security warnings when accessing your web app from a browser on your local system.<br /><h5>Create Your Own Certificate Authority</h5>First, follow the steps below to create a new certificate authority:<br /><ol><li>Launch Keychain Access.</li><li>Choose the <b>Keychain Access -> Certificate Assistant -> Create a Certificate Authority...</b> menu option.</li><li>On the resulting dialog:<br /><ul class="tonySecondLevelList"><li>Fill in the <b>Name</b> field.</li><li>Ensure the <b>Identity Type</b> select box is set to <i>Self Signed Root CA</i>.</li><li>Leave <b>User Certificate</b> set to <i>S/MIME Email</i> or change to <i>SSL Server</i>.</li><li>Leave <b>Let me override defaults</b> unchecked.</li><li>Optionally uncheck <b>Make this CA the default</b>.</li><li>Specify a value for <b>Email from</b>.</li></ul><a href="http://1.bp.blogspot.com/-OrUNqek8-TY/VBX4FIqHFNI/AAAAAAADv-U/-nPZ1SiVsE4/s1600/keychainAssistant2_createCA2.png" target="_blank"><img alt="Keychain Access: Create Certificate Authority" class="tonyImg" src="http://1.bp.blogspot.com/-OrUNqek8-TY/VBX4FIqHFNI/AAAAAAADv-U/-nPZ1SiVsE4/s1600/keychainAssistant2_createCA2.png" scale="0" style="max-height: 884px; max-width: 1243px; width: 70%;" title="Keychain Access: Create Certificate Authority" /></a><br /></li><li>Click the <b>Create</b> button.</li><li>Close the dialog which says <i>Conclusion</i> and tells you creation was successful.</li><li>Within the main Keychain Assistant window, find your new certificate and open it (either double-click on it or invoke the <b>Get Info</b> context menu item).</li><li>On the resulting dialog, change the select box for <b>When using this certificate</b> to <i>Always Trust</i>.<br /><a href="http://2.bp.blogspot.com/-x8SA3F5w-tY/VBX4FDwz7wI/AAAAAAADv-Q/x_FJyPQvNcU/s1600/keychainAssistant5_trustCA.png" target="_blank"><img alt="Keychain Access: Trust New Certificate Authority" class="tonyImg" src="http://2.bp.blogspot.com/-x8SA3F5w-tY/VBX4FDwz7wI/AAAAAAADv-Q/x_FJyPQvNcU/s1600/keychainAssistant5_trustCA.png" scale="0" style="max-height: 878px; max-width: 1042px; width: 70%;" title="Keychain Access: Trust New Certificate Authority" /></a><br /></li><li>Close the dialog. You will then be prompted for an administrator user name and password. After entering your credentials, click the <b>Update Settings</b> button.</li></ol>You now have a self-signed certificate authority that is trusted by your local system.<h5>Create Your Main Certificate</h5>Next, you will create the main certificate for your domain. We will issue it using the trusted certificate authority you created in the previous section.<br /><ol><li>In Keychain Access, choose the <b>Keychain Access -> Certificate Assistant -> Create a Certificate...</b> menu option to show the Create Certificate Wizard.</li><li>On the first panel of the wizard:<br /><ul class="tonySecondLevelList"><li>Fill in the <b>Name</b> field.</li><li>Ensure the <b>Identity Type</b> select box is set to <i>Leaf</i>.</li><li>Set the <b>Certificate Type</b> field to <i>SSL Server</i>.</li><li>Check the box next to the <b>Let me override defaults</b> option.</li></ul><a href="http://1.bp.blogspot.com/-QJ8mfhF7qio/VBX4FDLgDCI/AAAAAAADv-M/eQLuIrXjto0/s1600/keychainAssistant8_createCert1.png" target="_blank"><img alt="Keychain Access: Create New Certificate" class="tonyImg" src="http://1.bp.blogspot.com/-QJ8mfhF7qio/VBX4FDLgDCI/AAAAAAADv-M/eQLuIrXjto0/s1600/keychainAssistant8_createCert1.png" scale="0" style="max-height: 884px; max-width: 1244px; width: 70%;" title="Keychain Access: Create New Certificate" /></a><br /></li><li>Click the <b>Continue</b> button.</li><li>On the next panel, you can optionally adjust the <b>Serial Number</b> and <b>Validity Period</b> fields. Then, click the <b>Continue</b> button.</li><li>You will then see a panel with a number of important attributes. Fill in all of the fields, but pay particular attention to the <b>Name (Common Name)</b> field. This field <em>must</em> be the wildcard version of the domain you wish to secure in Bluemix.<br /><a href="http://2.bp.blogspot.com/-7d4Pi3xQbPo/VBX4GEQULNI/AAAAAAADv-k/0t8yaiVK2XY/s1600/keychainAssistant8_createCert3.png" target="_blank"><img alt="Keychain Access: Main Certificate Attributes" class="tonyImg" src="http://2.bp.blogspot.com/-7d4Pi3xQbPo/VBX4GEQULNI/AAAAAAADv-k/0t8yaiVK2XY/s1600/keychainAssistant8_createCert3.png" scale="0" style="max-height: 886px; max-width: 1246px; width: 70%;" title="Keychain Access: Main Certificate Attributes" /></a><br /></li><li>Click the <b>Continue</b> button.</li><li>You will then be given the option to choose the issuer for your new certificate. You will want to make sure to choose the certificate authority you created in the previous section.<br /><a href="http://1.bp.blogspot.com/-Mqz4wUHvvHk/VBX4Gju76qI/AAAAAAADv_Y/ak4_v_gzBZw/s1600/keychainAssistant8_createCert4.png" target="_blank"><img alt="Keychain Access: Choose Certificate Issuer" class="tonyImg" src="http://1.bp.blogspot.com/-Mqz4wUHvvHk/VBX4Gju76qI/AAAAAAADv_Y/ak4_v_gzBZw/s1600/keychainAssistant8_createCert4.png" scale="0" style="max-height: 880px; max-width: 1236px; width: 70%;" title="Keychain Access: Choose Certificate Issuer" /></a><br /></li><li>Click the <b>Continue</b> button.</li><li>On the next panel, you can leave the <b>Key Size</b> and <b>Algorithm Fields</b> alone. Then, click <b>Continue</b>.</li><li>On the <i>Key Usage Extension</i> panel, you have a variety of options. The only item I enabled is the <b>Signature</b> field.<br /><a href="http://1.bp.blogspot.com/-tDnA941pJKg/VBX4G8AcTfI/AAAAAAADv-0/NfFpCJFw0R4/s1600/keychainAssistant8_createCert6.png" target="_blank"><img alt="Keychain Access: Key Usage Extension" class="tonyImg" src="http://1.bp.blogspot.com/-tDnA941pJKg/VBX4G8AcTfI/AAAAAAADv-0/NfFpCJFw0R4/s1600/keychainAssistant8_createCert6.png" scale="0" style="max-height: 884px; max-width: 1281px; width: 70%;" title="Keychain Access: Key Usage Extension" /></a><br /></li><li>Click the <b>Continue</b> button.</li><li>On the <i>Extended Key Usage Extension</i> panel, check the box next to the <b>SSL Server Authentication Option</b>.<br /><a href="http://2.bp.blogspot.com/-nP6tGy_FQyQ/VBX4HECbQzI/AAAAAAADv-8/Xl2eBy9zSFs/s1600/keychainAssistant8_createCert7.png" target="_blank"><img alt="Keychain Access: Extended Key Usage Extension" class="tonyImg" src="http://2.bp.blogspot.com/-nP6tGy_FQyQ/VBX4HECbQzI/AAAAAAADv-8/Xl2eBy9zSFs/s1600/keychainAssistant8_createCert7.png" scale="0" style="max-height: 886px; max-width: 1241px; width: 70%;" title="Keychain Access: Extended Key Usage Extension" /></a><br /></li><li>Click the <b>Continue</b> button.</li><li>For the <i>Basic Constraints Extension</i> panel, you can leave the checkbox unchecked and then click the <b>Continue</b> button.</li><li>For the <i>Subject Alternate Name Extension</i> panel, uncheck the box next to the <b>Include Subject Alternate Name Extension</b> field.<br /><a href="http://2.bp.blogspot.com/-4UcjTRddIlw/VBX4H5CtAXI/AAAAAAADv_M/nwY_eIdNUrU/s1600/keychainAssistant8_createCert9.png" target="_blank"><img alt="Keychain Access: Subject Alternate Name Extension" class="tonyImg" src="http://2.bp.blogspot.com/-4UcjTRddIlw/VBX4H5CtAXI/AAAAAAADv_M/nwY_eIdNUrU/s1600/keychainAssistant8_createCert9.png" scale="0" style="max-height: 876px; max-width: 1239px; width: 70%;" title="Keychain Access: Subject Alternate Name Extension" /></a><br /></li><li>Click the <b>Continue</b> button to arrive at the <i>Specify a Location for the Certificate</i> panel. You can leave the <b>Keychain</b> field set to <i>login</i>.<br /><a href="http://2.bp.blogspot.com/-2iurllgQCBI/VBX4FtV0T5I/AAAAAAADv-Y/wOje6e9KHs0/s1600/keychainAssistant8_createCert10.png" target="_blank"><img alt="Keychain Access: Specify a Location for the Certificate" class="tonyImg" src="http://2.bp.blogspot.com/-2iurllgQCBI/VBX4FtV0T5I/AAAAAAADv-Y/wOje6e9KHs0/s1600/keychainAssistant8_createCert10.png" scale="0" style="max-height: 880px; max-width: 1242px; width: 70%;" title="Keychain Access: Specify a Location for the Certificate" /></a><br /></li><li>Click the <b>Create</b> button and the Conclusion panel will be made visible. You should see a summary of the information for your new certificate.<br /><a href="http://4.bp.blogspot.com/-JJoVQ2rqjTc/VBX4F4gAQ3I/AAAAAAADv-c/f-rktygt2Gw/s1600/keychainAssistant8_createCert11.png" target="_blank"><img alt="Keychain Access: Create Certificate Conclusion" class="tonyImg" src="http://4.bp.blogspot.com/-JJoVQ2rqjTc/VBX4F4gAQ3I/AAAAAAADv-c/f-rktygt2Gw/s1600/keychainAssistant8_createCert11.png" scale="0" style="max-height: 885px; max-width: 1244px; width: 70%;" title="Keychain Access: Create Certificate Conclusion" /></a><br /><li>Click <b>Done</b>.</li></ol><h5>Export Certificates</h5>Now, you have created a certificate authority and used it to issue a new certificate. The next thing you need to do is export the files from Keychain Assistant so you can upload them to Bluemix: <ol><li>In the main Keychain Assistant window, find your main certificate. In the context menu, choose the <b>Export</b> option.<br /><a href="http://3.bp.blogspot.com/-bqJGIzaibBE/VBYFDtcSrkI/AAAAAAADwAY/ijbVh2pC9Vg/s1600/keychainAssistant9_exportMainCertMenu_annotated.png" target="_blank"><img alt="Keychain Access: Export Main Certificate" class="tonyImg" src="http://3.bp.blogspot.com/-bqJGIzaibBE/VBYFDtcSrkI/AAAAAAADwAY/ijbVh2pC9Vg/s1600/keychainAssistant9_exportMainCertMenu_annotated.png" scale="0" style="max-height: 1126px; max-width: 1600px; width: 70%;" title="Keychain Access: Export Main Certificate" /></a><br /><li>You then get to choose the location for your exported certificate. You can choose whatever you want for filename (for example,  <code>server</code>), but it's very important you choose <i>Certificate (.cer)</i> for the <b>File Format</b>.<br /><a href="http://2.bp.blogspot.com/-O6loyzz4Vpo/VBYGvvR1MII/AAAAAAADwAk/5xNGbzWGddk/s1600/keychainAssistant10_exportMainCertFileChooser_annotated.png" target="_blank"><img alt="Keychain Access: Export Main Certificate  File Chooser" class="tonyImg" src="http://2.bp.blogspot.com/-O6loyzz4Vpo/VBYGvvR1MII/AAAAAAADwAk/5xNGbzWGddk/s1600/keychainAssistant10_exportMainCertFileChooser_annotated.png" scale="0" style="max-height: 1025px; max-width: 1600px; width: 70%;" title="Keychain Access: Export Main Certificate File Chooser" /></a></li><li>Click the <b>Save</b> button.</li><li>Now, find your private key in the Keychain Assistant window. You will need to expand you main certificate to see it. Right-click on it and choose the <b>Export</b> option.<br /><a href="http://4.bp.blogspot.com/-ZUaSakRvgPg/VBU7JLC0HVI/AAAAAAADv6Y/eJBiBV4XRIs/s1600/keychainAssistant11_exportKeyMenu.png" target="_blank"><img alt="Keychain Access: Export Private Key" class="tonyImg" src="http://4.bp.blogspot.com/-ZUaSakRvgPg/VBU7JLC0HVI/AAAAAAADv6Y/eJBiBV4XRIs/s1600/keychainAssistant11_exportKeyMenu.png" scale="0" style="max-height: 1019px; max-width: 1600px; width: 70%;" title="Keychain Access: Export Private Key" /></a></li><li>You will then see a dialog asking for a password to use to protect your file. Enter a password and confirm it (also be sure to remember it for later!), and click <b>OK</b>.</li><li>Next you will be asked for an administrator password for your system. After entering your credentials, click <b>Allow</b>.</li><li>You will then be asked for a location for the exported key. You can enter a file name (for example, <code>server</code>), and you'll want to pick the same directory you chose for your exported certificate. For <b>File Format</b>, choose <i>Personal Information Exchange (.p12)</i>. Click <b>Save</b>.</li><li>Next, find your certificate authority in Keychain Assistant. Like you did for your main certificate, choose the <b>Export</b> option from the context menu.</li><li>You will now see another file chooser. I entered <code>ca</code> for the filename, but you can choose whatever you like. However, be sure to pick <i>Certificate (.cer)</i> for <b>File Format</b>. Make sure you've chosen the same directory you used for exporting the first two files, and click <b>Save</b>.</li></ol><h5>Convert Your Private Key</h5>You've exported the required files, and you're almost done! But, there's one more important step. Because Bluemix does not yet support <code>p12</code> key files, you will need to use <code>openssl</code> to do a quick conversion. If you've gotten this far, it should be pretty straightforward because <code>openssl</code> is installed on your Mac.   Go to the command line and change to the directory where you exported all of your files. Then, execute the command below (which came from a <a target="_blank" href="http://stackoverflow.com/questions/9497719/how-to-extract-a-public-private-key-from-a-pkcs12-file-with-openssl-for-later-us">StackOverflow post</a>). If you chose <code>server.p12</code> for your key file name, then you can execute the command as is. Otherwise, you will need to enter your personal file name. When it asks for a password, use the same password you specified to protect the private key file when you exported it. <pre class="tonyCode"><span class="commandLineCommand">$ openssl pkcs12 -in server.p12 -nocerts -nodes | openssl rsa > server.key</span><br />Enter Import Password:<br />MAC verified OK<br />writing RSA key<br /></pre><h5>Final Result with Keychain Assistant</h5>At this point, you should have a <code>.cer</code> file for your main certificate, a <code>.key</code> file for your private key, and a <code>.cer</code> file for your intermediate certificate. You can now use the Bluemix UI to upload those files and secure your own domain.  I did this myself. And, when I access my app using Chrome on my personal Mac, I see the identity is verified and there are no security warnings. However, this is because we told Keychain Access to trust our self-signed certificate authority. So, of course, if someone tries to access the app from another system they will still get a security warning. <a href="http://3.bp.blogspot.com/-le4MnbdQAVw/VBU7Kvyb5BI/AAAAAAADv6s/vu2rNfpAnaw/s1600/keychainAssistant20_protectionInChrome.png" target="_blank"><img alt="Chrome Details Using Trusted Self-Signed Intermediate" class="tonyImg" src="http://3.bp.blogspot.com/-le4MnbdQAVw/VBU7Kvyb5BI/AAAAAAADv6s/vu2rNfpAnaw/s1600/keychainAssistant20_protectionInChrome.png" scale="0" style="max-height: 762px; max-width: 634px; width: 50%;border:1px solid lightgray;" title="Chrome Details Using Trusted Self-Signed Intermediate" /></a> <h4>Conclusion</h4>Self-signed certificates should never be used for production apps, but you've seen they have value for testing and development. I presented steps for three different approaches to creating self-signed certificates appropriate for use with your Bluemix apps. These included online generation, manually executing <code>openssl</code> commands, and using the Mac's Keychain Access app. In the last case, you also saw how a self-signed intermediate certificate can be marked as "trusted" to eliminate browser security warnings when running locally.  After using any of these approaches, you can upload the resulting certificate and key files using the Bluemix UI to associate them with a custom domain. See my <a target="_blank" href="http://www.tonyerwin.com/2014/09/bluemix-ui-ssl-certificates-and-custom.html">other post</a> for full details on how to do that. </div>